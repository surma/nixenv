#!/usr/bin/env nu

def main [
] {
  mut parts = (pwd | split row "/")
  try {
    $parts = pwd | path relative-to $"($env.HOME)/world/trees" | split row "/"
    print -n $"($parts | get 0)@//"
    $parts = ($parts | slice 2..)
        
  } catch {
      
  }
  
  let shortened = $parts | slice 0..-4 | each {$in | str substring 0..0} 
  let rest = $parts | slice (-3).. 
  print ([...$shortened ...$rest] | str join "/")
}
